---
description: "Get started with DeepRead OCR. Automatically obtains an API key via device authorization flow (RFC 8628), then walks through first document, structured extraction, and blueprints."
alwaysApply: false
---

# Setup DeepRead

You are an AI agent helping a developer get started with DeepRead — an AI-native OCR API that extracts text and structured data from documents (PDFs, images) with 97%+ accuracy.

**API:** `https://api.deepread.tech`
**Dashboard:** `https://www.deepread.tech`
**Docs:** `https://www.deepread.tech/docs`

---

## Step 1: Get an API Key (Device Authorization Flow)

You (the agent) obtain an API key on behalf of the user. The user never needs to copy/paste a key — it goes directly to you.

### How it works

1. **You** call the DeepRead API to get a device code
2. **You** open the browser with the code pre-filled (or show the URL if headless)
3. **The user** logs in (or signs up) and clicks Approve — no code typing needed
4. **You** poll until the key is ready — then store it

### Step 1a: Request a device code

Make **one** call and save the full response — you'll need `device_code` for polling and `verification_uri_complete` to open the browser:

```bash
response=$(curl -s -X POST https://api.deepread.tech/v1/agent/device/code \
  -H "Content-Type: application/json" \
  -d '{"agent_name": "YOUR_AGENT_NAME"}')

device_code=$(echo "$response" | jq -r '.device_code')
verification_uri_complete=$(echo "$response" | jq -r '.verification_uri_complete')
interval=$(echo "$response" | jq -r '.interval')
```

`agent_name` is optional but strongly recommended — it's shown on the approval screen. Without it, the user sees "Unknown Agent".

Response shape:
```json
{
  "device_code": "a7f3c9d2e1b8...",
  "user_code": "HXKP-3MNV",
  "verification_uri": "https://www.deepread.tech/activate",
  "verification_uri_complete": "https://www.deepread.tech/activate?code=HXKP-3MNV",
  "expires_in": 900,
  "interval": 5
}
```

### Step 1b: Open the browser for the user

Use the `verification_uri_complete` saved above — the code is pre-filled, the user just clicks Approve:

```bash
open "$verification_uri_complete"      # macOS
xdg-open "$verification_uri_complete"  # Linux
```

If you can't open the browser (SSH, headless), show the user this message:

```text
To connect me to DeepRead, please:
1. Open: https://www.deepread.tech/activate?code=HXKP-3MNV
2. Log in or create an account
3. Click "Approve"

I'll wait here until you're done.
```

**Never show the `device_code` to the user.** Only show `user_code` and `verification_uri_complete`.

### Step 1c: Poll for the API key

Poll every 5 seconds until the user approves:

```bash
curl -s -X POST https://api.deepread.tech/v1/agent/device/token \
  -H "Content-Type: application/json" \
  -d '{"device_code": "a7f3c9d2e1b8..."}'
```

Responses you'll get (all fields always present, check `api_key != null` for success):

| `error` | `api_key` | Meaning | Action |
|---------|-----------|---------|--------|
| `"authorization_pending"` | `null` | User hasn't approved yet | Wait `interval` seconds, poll again |
| `null` | `"sk_live_..."` | User approved | Save the key, stop polling |
| `"access_denied"` | `null` | User clicked Deny | Stop, inform user |
| `"expired_token"` | `null` | Code expired (15 min) | Start over from Step 1a |

### Step 1d: Store the key

Once you receive the `api_key`, save it securely. This is a one-time retrieval — the key is cleared from the server after you receive it.

### What happens on the user's side

**Already logged in:** Opens the URL → code is auto-validated → sees your agent name + Approve/Deny → clicks Approve → redirected to dashboard. The key goes to you on your next poll.

**Not logged in:** Sees "Sign in required" → signs in or creates an account → redirected back with the code pre-filled → clicks Approve.

In both cases the key goes directly to you — it never appears in chat.

---

## Step 2: Send Your First Document

Now use the API key from Step 1:

```bash
curl -X POST https://api.deepread.tech/v1/process \
  -H "X-API-Key: sk_live_YOUR_KEY" \
  -F "file=@document.pdf"
```

Response:
```json
{"id": "550e8400-...", "status": "queued"}
```

Then poll for results (wait 5s, then every 5-10s):

```bash
curl https://api.deepread.tech/v1/jobs/550e8400-... \
  -H "X-API-Key: sk_live_YOUR_KEY"
```

Response when complete:
```json
{
  "status": "completed",
  "result": {
    "text": "Full extracted text in markdown...",
    "preview_url": "https://preview.deepread.tech/..."
  }
}
```

Supports PDF, PNG, JPG, JPEG. Max 15MB (free) / 50MB (paid).

---

## Step 3: Extract Structured Data

Add a `schema` parameter with a JSON Schema. Field descriptions guide the AI — the better the description, the better the extraction.

```bash
curl -X POST https://api.deepread.tech/v1/process \
  -H "X-API-Key: sk_live_YOUR_KEY" \
  -F "file=@invoice.pdf" \
  -F 'schema={
    "type": "object",
    "properties": {
      "vendor": {"type": "string", "description": "Company or vendor name on the invoice"},
      "total": {"type": "number", "description": "Total amount due in dollars"},
      "due_date": {"type": "string", "description": "Payment due date"}
    }
  }'
```

Each extracted field comes with quality metadata:

```json
{
  "vendor": {"value": "Acme Inc", "hil_flag": false, "found_on_page": 1},
  "due_date": {"value": "2025-03-15", "hil_flag": true, "reason": "Multiple dates found", "found_on_page": 1}
}
```

- `hil_flag: false` — extracted confidently, safe to auto-accept
- `hil_flag: true` — needs human review, check `reason` for why

---

## Step 4: Blueprints (Better Accuracy)

Blueprints are optimized schemas that improve accuracy by 20-30%. You give DeepRead sample documents + expected values, it enhances field descriptions automatically.

1. Go to `https://www.deepread.tech/dashboard/optimizer`
2. Upload 4+ sample docs + ground truth JSON
3. DeepRead runs 3-5 optimization iterations
4. Use the optimized blueprint:

```bash
curl -X POST https://api.deepread.tech/v1/process \
  -H "X-API-Key: sk_live_YOUR_KEY" \
  -F "file=@invoice.pdf" \
  -F "blueprint_id=YOUR_BLUEPRINT_ID"
```

Use `schema` OR `blueprint_id`, not both.

---

## Plans

| Plan | Pages/month | Max file | Per-doc limit | Price |
|------|-------------|----------|---------------|-------|
| Free | 2,000 | 15 MB | 50 pages | $0 |
| Pro | 50,000 | 50 MB | Unlimited | $99/mo |
| Scale | 1,000,000 | 50 MB | Unlimited | Custom |

---

## What's Next

See the `deepread-api` rule for the full reference — all endpoints, webhooks, error handling, blueprints API, and code examples in Python, JavaScript, and cURL.

## Help the Developer

- No API key yet → run the device flow above (Step 1)
- Has API key → help send first request (Step 2)
- Wants structured data → help write a JSON Schema with good field descriptions (Step 3)
- Wants better accuracy → explain blueprints and optimizer (Step 4)
- Wants full integration → see the `deepread-api` rule for complete reference
